<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>UCL SGNL Radiation Force Modelling Process</title>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
        <style>
            body {
                font-family: 'Open Sans', sans-serif;
                margin: 0;
                padding: 0;
                background-color: #0A192F; /* Dark blue background */
                color: #CCD6F6; /* Soft white text color for readability */
            }
            .container {
                max-width: 1200px;
                margin: auto;
                overflow: auto;
                padding: 0 20px;
            }
            .logo-container {
                float: left;
                padding: 15px;
                margin-right: 20px;
            }
            header {
                background: #112240; /* Slightly lighter blue for the header */
                color: #CCD6F6;
                padding: 20px 0;
                clear: both;
            }
            header h1, header p {
                margin: 0;
                padding: 0;
            }
            nav ul {
                padding: 0;
                background: #233554; /* Another shade of blue for the navbar */
                overflow: hidden;
                list-style: none;
                text-align: center;
                margin: 0;
            }
            nav ul li {
                display: inline;
            }
            nav ul li a {
                color: #CCD6F6;
                text-decoration: none;
                padding: 15px 20px;
                display: inline-block;
                transition: background-color 0.3s;
            }
            nav ul li a:hover {
                background-color: #3A5278; /* Highlight color for links on hover */
            }
            ul.repos {
                list-style: none;
                padding: 0;
            }
            ul.repos li {
                background: #192734; /* Dark element backgrounds to pop against the page background */
                margin-bottom: 10px;
                padding: 20px;
                border: 1px solid #2E4057; /* Subtle border */
                border-radius: 5px;
                box-shadow: 0 5px 10px rgba(0,0,0,0.3); /* Deeper shadow for 3D effect */
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
            ul.repos li:hover {
                transform: translateY(-5px); /* Slight raise effect on hover */
                box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            }
            ul.repos li h2 a {
                color: #58A6FF; /* Bright blue for clickable titles */
                text-decoration: none;
                font-size: 1.2em;
            }
            ul.repos li h2 a:hover {
                text-decoration: underline; /* Underline on hover for links */
            }
            ul.repos li p {
                margin: 10px 0 0;
                color: #8892B0; /* Grey text for less important information */
            }
            footer {
                background: #233554; /* Match the navbar */
                color: #CCD6F6;
                text-align: center;
                padding: 10px 0;
                position: relative;
                bottom: 0;
                width: 100%;
            }
            @media only screen and (max-width: 600px) {
                .logo-container, header h1, nav ul li a, ul.repos li {
                    float: none;
                    text-align: center;
                    width: 100%;
                    padding: 10px;
                    box-sizing: border-box;
                }
                .logo-container img {
                    margin: auto;
                }
                header, nav ul li a, footer {
                    padding: 10px;
                }
                .repos li {
                    padding: 10px;
                    box-shadow: none;
                }
            }
        </style>
        
    </head>
<body>
    <header class="container">
        <h1>Using SRP-TRR Classic in UCL's Myriad Compute Cluster</h1>
        <p>Using SRP-TRR Classic in UCL's Myriad Compute Cluster</p>
    </header>
        
        <!-- Myriad Remote Access -->
        <div>
            <h3>Accessing Myriad Remotely</h3>
            <ol>
                <li>Follow the <a href="https://www.rc.ucl.ac.uk/docs/Clusters/Myriad/" target="_blank">latest instructions</a> on how to gain access to the UCL Myriad Research Computing Cluster.</li>
            </ol>
        </div>

        <!-- File Transfer Using WinSCP -->
        <div>
            <h3>Transferring Files from Myriad using WinSCP</h3>
            <ol>
                <li>Open WinSCP and set up a 'New Site' in the left window.</li>
                <li>Input a new session with the following details:
                    <ul>
                        <li>File protocol: SCP</li>
                        <li>Host name: myriad.rc.ucl.ac.uk</li>
                        <li>Username: [your UCL username]</li>
                    </ul>
                </li>
                <li>After entering your login details, the password will be required twice.</li>
            </ol>
        </div>

        <div>
            <h3>Running the Computation on Myriad</h3>
            <p>Detailed steps for setting up the environment in Myriad, running computations, and generating force models on your machine.</p>
            
            <h4>Setting up the Environment in Myriad</h4>
            <ol>
                <li>Login into Myriad.</li>
                <li>Unzip the myriad utils folder into the home directory and rename it:
                    <ul>
                        <li>Command: `mv myriad_utils utils`</li>
                    </ul>
                </li>
                <li>Unzip srp trr classic.zip and cd into the folder. In the srp trr classic directory, type `make` to compile the code.</li>
                <li>In the home directory, create a folder named res: `mkdir res`.</li>
                <li>Copy the parameters.txt file from the srp trr classic directory into the new res folder and modify as needed using a text editor like vim.</li>
            </ol>
        
            <h4>Running Computation Using Myriad</h4>
            <ol>
                <li>In the utils folder, to run the computation, execute the setup script with the model file name and the mass of the model: `./ucl_srp_legion_setup.sh <model file name> <mass of model>`.</li>
                <li>Use `qstat` to check the status of the computation.</li>
                <li>To delete a job, use `qdel -u <your UCL username>`.</li>
                <li>Computations typically take 1-2 days. Upon completion, directories named after the model file name will be created in the home and Scratch directories.</li>
            </ol>
        </div>
        </section>

    <footer>
        <div class="container">
            &copy; 2023 UCL Space Geodesy & Navigation Laboratory. All rights reserved.
        </div>
    </footer>
</body>
</html>
